jQuery(document).ready(function(){function e(){f=jQuery(".content_wrapper :visible").attr("id"),b=!1}function t(){v=!0,jQuery(".loading_animation").stop().show().animate({opacity:".85"},750)}function a(){jQuery(".loading_animation").stop().animate({opacity:"0"},1e3,function(){jQuery(".loading_animation").hide(),v=!1})}function i(){jQuery("div.highlight_slides").each(function(){var e=jQuery(this),t=e.children().length;t>1&&e.children().css("cursor","pointer")})}function n(t,n,o){jQuery("#"+f).stop().animate({opacity:"0"},750,function(){jQuery("#"+f).hide(function(){o?(jQuery(".content_wrapper").css("opacity","0"),jQuery(".content_wrapper").append(o),jQuery(".content_wrapper").animate({opacity:"1"},750),i()):jQuery("#"+t).show().animate({opacity:"1"},750);var r=jQuery("#"+t).data("pageTitle");d(t),e(),s(r),n&&l(n),history.replaceState({pageDiv:t,pageUrl:n},r,n),a()})})}function o(e,t,a){var i=jQuery("div#"+e+" .highlight_slides div[data-slide="+a+"]"),n=jQuery("div#"+e+" .highlight_slides div[data-slide="+t+"]");i.stop().css("z-index","10").stop().show().animate({opacity:"1"},250,function(){n.stop().animate({opacity:"0"},250,function(){n.hide(),i.css("z-index","5"),u(e,a),m=!1})});var o=jQuery("#"+e+" .numbers_wrapper .numbers"),r=o.children("[data-slide="+a+"]").children("img.off"),c=o.children("[data-slide="+t+"]").children("img.off");c.stop().show().animate({opacity:"1"},300),r.stop().animate({opacity:"0"},300,function(){r.hide()})}function r(e){return!$.trim(e.html())}function c(e,i,o,c){v||(pageDiv="page_"+i,o&&(pageDiv+="_"+o),c&&(pageDiv+="_"+c),pageDiv!==f&&(t(),r(jQuery("#"+pageDiv))?jQuery.ajax({type:"POST",url:g,data:{action:"getAjaxData",page:i,postType:o,id:c,token:window.nonce},success:function(t){n(pageDiv,e,t)},error:function(e){403===e.status?n("page_error_403",!1,e.responseText):a()}}):n(pageDiv,e)))}function p(e,t){Q&&(e=e||document.location.href,t=t||window.document.title,_paq.push(["setCustomUrl",e]),_paq.push(["setDocumentTitle",t]),_paq.push(["setReferrerUrl",w]),_paq.push(["trackPageView"]))}function u(e,t){Q&&(e=jQuery("#"+e).data("pageTitle"),t="Slide "+t,_paq.push(["trackEvent","Slides",e,t]))}function d(e){var t=e.split("_");"category"===t[1]?(window.categoryId=t[2],window.categoryName=t[1]):window.categoryName=t[2]}function s(e){var t=" â€º ";title=siteName,window.categoryName.length>0&&e.toLowerCase()!==window.categoryName.toLowerCase()&&(title+=t+window.categoryName.capitalize()),title+=t+e,window.document.title=title}function l(e){w=document.location.href,e=y(e,"path"),p()}function y(e,t){var a=document.createElement("a");if(a.href=e,e=a.pathname,e=e.split(/[\\/]/),e=jQuery.grep(e,function(e){return e}),"divId"===t){var i="page_",n=0,o="";return e.forEach(function(e){n>0&&(o="_"),i+=o+e,++n}),"page_"===i&&(i=h),i}return"array"===t?("undefined"==typeof e[1]&&e.unshift("archive"),e):"path"===t?e=a.pathname:void 0}var h="page_archive_work",g=window.location.protocol+"//"+window.location.host+"/wp-admin/admin-ajax.php",f=jQuery(".content_wrapper :visible").attr("id"),w=document.referrer||document.location.href,v=!1,m=!1,_=!1,j="all",Q="undefined"==typeof _paq?!1:!0,k=window.history.state;String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},jQuery("html").animate({opacity:"1"},500,function(){jQuery(".content_wrapper").delay(750).animate({opacity:"1"},1e3)}),window.onload=function(){jQuery("nav").animate({opacity:"1"},1e3),a()},i(),jQuery(window).bind("popstate",function(e){var t;if(k=window.history.state){if(k){t=k.pageUrl;var a=k.pageDiv.split("_"),i=a[1],n=a[2],o=a[3];c(t,i,n,o)}}else{var r=window.document.title;t=document.location.pathname,history.replaceState({pageDiv:f,pageUrl:t},r,t),k=window.history.state}}),jQuery("nav img.off").hover(function(){jQuery(this).stop().animate({opacity:"0"},250)},function(){jQuery(this).stop().animate({opacity:"1"},250)}),jQuery(document).on("click","a",function(e){function t(){e.preventDefault(),e.stopPropagation()}k||jQuery(window).trigger("popstate");var a,i=jQuery(this),n=i.data("linkType"),o=y(i.attr("href"),"path"),r=i.data("page"),p=i.data("postType");if("headerNavigation"===n)t(),history.pushState(null,null,o),c(o,r,p);else if("workNavigation"===n){t(),history.pushState(null,null,o);var u=i.data("projectType");_||u===j||(_=!0,$("#page_archive_work .row").fadeOut(1e3,function(){$("#page_archive_work .column").hide(),$('#page_archive_work .column[data-project-type~="'+u+'"]').show(),$("#page_archive_work .row").fadeIn(1e3,function(){j=u,_=!1})}))}else if("postNavigation"===n){var d=i.data("postId"),s=i.data("categoryId");t(),history.pushState(null,null,o);var l=d||s;a="/"+p+"/"+l,c(o,r,p,l)}}),jQuery(document).on("click",".content_wrapper div .numbers_wrapper .numbers div",function(){var e=jQuery(this),t=e.parent().parent().parent().attr("id"),a=e.data("slide"),i=jQuery("#"+t+" .highlight_slides > div:visible").data("slide");i===a||m||(m=!0,o(t,i,a))}),jQuery(document).on("click",".content_wrapper div .highlight_slides div img.highlight",function(){var e=jQuery(this).parent(),t=e.parent().parent().attr("id"),a=e.data("slide"),i=e.parent().children().length;if(i>1&&!m){m=!0;var n,r=e.next("div");0===r.length?(r=e.prevAll("div").last(),n=r.data("slide")):n=r.data("slide"),o(t,a,n)}});var D,T,b,x,S;D=window.categoryId,jQuery(window).scroll(function(){x=jQuery(document).height()-jQuery(window).height(),S=jQuery(window).scrollTop()+200,S>=x&&!b&&!v&&(jQuery("#page_category_"+D).is(":visible")?(t(),T=jQuery("#page_category_"+D+" > article").length,jQuery.ajax({type:"POST",url:g,data:{action:"getAjaxData",category:D,offset:T,token:window.nonce},success:function(e){""===e?b=!0:jQuery("#page_category_"+D+":last-child").append(e)},error:function(e){403===e.status&&n("page_error_403",!1,e.responseText)},complete:function(){a()}})):jQuery("#page_archive_blog").is(":visible")&&(t(),T=jQuery("#page_archive_blog > article").length,jQuery.ajax({type:"POST",url:g,data:{action:"getAjaxData",category:"",offset:T,token:window.nonce},success:function(e){""===e?b=!0:jQuery("#page_archive_blog:last-child").append(e)},error:function(e){403===e.status&&n("page_error_403",!1,e.responseText)},complete:function(){a()}})))})});
