jQuery(document).ready(function(){var z="page_archive_work";var w=window.location.protocol+"//"+window.location.host+"/wp-admin/admin-ajax.php";var o=jQuery("#content_wrapper :visible").attr("id");var v=document.referrer||document.location.href;var m=false;var p=false;var D=false;var C="all";var u=(typeof _paq==="undefined")?false:true;var d=window.history.state;function k(){if(!d){var H=document.location.href;var G=window.document.title;var I=jQuery("#"+o).data("postType");var E=jQuery("#"+o).data("postId");var F={pageUrl:H,postType:I,postId:E};history.replaceState(F,G,H)}else{}}String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(E){return E.toUpperCase()})};function b(){o=jQuery("#content_wrapper :visible").attr("id");A=false}function t(){m=true;jQuery("#loading_animation").stop().show().animate({opacity:".85"},500)}function l(){jQuery("html, body").animate({scrollTop:0},"slow",function(){jQuery("#loading_animation").stop().animate({opacity:"0"},500,function(){jQuery("#loading_animation").hide();m=false})})}function a(){jQuery("div.highlight_slides").each(function(){var F=jQuery(this);var E=F.children().length;if(E>1){F.children().css("cursor","pointer")}})}function i(H,L,F){var K=jQuery("div#"+H+" .highlight_slides div[data-slide="+F+"]");var G=jQuery("div#"+H+" .highlight_slides div[data-slide="+L+"]");K.stop().css("z-index","10").stop().show().animate({opacity:"1"},250,function(){G.stop().animate({opacity:"0"},250,function(){G.hide();K.css("z-index","5");c(H,F);p=false})});var J=jQuery("#"+H+" .numbers_wrapper .numbers");var E=J.children("[data-slide="+F+"]").children("img.off");var I=J.children("[data-slide="+L+"]").children("img.off");I.stop().show().animate({opacity:"1"},300);E.stop().animate({opacity:"0"},300,function(){E.hide()})}function s(E){return !$.trim(E.html())}function h(H,J,E,I){if(I===undefined){I=true}if(m){return}var F=x(J,E);if(F===o){return}t();if(s(jQuery("#"+F))){jQuery.ajax({type:"POST",url:w,data:{action:"getAjaxData",postType:J,postId:E,token:window.nonce},success:function(K){q(F,H,K)},error:function(K){if(K.status===403){q("page_error_403",false,K.responseText)}else{l()}}})}else{q(F,H)}if(I){var G=jQuery("#"+F).data("pageTitle");n({pageUrl:H,postType:J,postId:E},G,H)}}function q(E,G,F){jQuery("#"+o).stop().animate({opacity:"0"},750,function(){jQuery("#"+o).hide(function(){if(F){jQuery("#content_wrapper").css("opacity","0");jQuery("#content_wrapper").append(F).imagesLoaded().then(function(){jQuery("#content_wrapper").animate({opacity:"1"},1000);l()});a()}else{jQuery("#"+E).show().animate({opacity:"1"},1000);l()}y(E);var H=jQuery("#"+E).data("pageTitle");B(H);H=window.document.title;r(G,H);b()})})}function r(F,E){if(!u){return}F=F||document.location.href;E=E||window.document.title;_paq.push(["setCustomUrl",F]);_paq.push(["setDocumentTitle",E]);_paq.push(["setReferrerUrl",v]);_paq.push(["trackPageView"])}function c(E,F){if(!u){return}E=jQuery("#"+E).data("pageTitle");F="Slide "+F;_paq.push(["trackEvent","Slides",E,F])}function y(F){var E=F.split("_");if(E[1]==="category"){window.categoryName=E[1];window.categoryId=E[2]}else{window.categoryName=E[1]}}function B(E){var F=" â€º ";var G=siteTitle;if(window.categoryName.length>0){if(window.categoryName==="post"){window.categoryName="blog"}if(E!==window.categoryName){E=E.capitalize();G+=F+window.categoryName.capitalize()}}G+=F+E;window.document.title=G}function n(E,F,G){pageStateConsole=JSON.stringify(E,null,4);v=document.location.href;history.pushState(E,F,G)}function x(I,F){var E=I;var G=0;var H="";if(F){E=E+"_"+F;if(I==="category"){E="page_"+E}else{E="page_single_"+E}}else{E="page_archive_"+E}return E}$.fn.imagesLoaded=function(){var F=this.find('img[src!=""]');if(!F.length){return $.Deferred().resolve().promise()}var E=[];F.each(function(){var G=$.Deferred();E.push(G);var H=new Image();H.onload=function(){G.resolve()};H.onerror=function(){G.resolve()};H.src=this.src});return $.when.apply($,E)};window.onload=function(){jQuery("html").animate({opacity:"1"},1,function(){jQuery("#content_wrapper").imagesLoaded().then(function(){jQuery("#content_wrapper").animate({opacity:"1"},750);l()})});k();jQuery("img").each(function(){imgsrc=this.src})};a();window.addEventListener("popstate",function(F){var H=window.history.state;F.preventDefault();F.stopPropagation();if(!H){}else{if(H){var G=H.pageUrl;var J=H.postType;var E=H.postId;var I=false;h(G,J,E,I)}}});jQuery("nav img.off").hover(function(){jQuery(this).stop().animate({opacity:"0"},250)},function(){jQuery(this).stop().animate({opacity:"1"},250)});jQuery("nav a").focusin(function(){jQuery(this).children("img.off").stop().animate({opacity:"0"},250)});jQuery("nav a").focusout(function(){jQuery(this).children("img.off").stop().animate({opacity:"1"},250)});jQuery(document).on("click","a",function(G){function E(){G.preventDefault();G.stopPropagation()}var M=jQuery(this);var F=M.data("linkType");var I=M.attr("href");if(F==="headerNavigation"){E();var K=M.data("postType");h(I,K)}else{if(F==="workNavigation"){E();var L=M.data("projectType");if(!D&&L!==C){D=true;$("#page_archive_work .row").fadeOut(1000,function(){$("#page_archive_work .column").hide();$('#page_archive_work .column[data-project-type~="'+L+'"]').show();$("#page_archive_work .row").fadeIn(1000,function(){C=L;D=false})})}}else{if(F==="postNavigation"){var H=M.data("postId");var J=M.data("categoryId");var K=M.data("postType");E();var N=H||J;h(I,K,N)}}}});jQuery(document).on("click","#content_wrapper div .numbers_wrapper .numbers div",function(){var G=jQuery(this);var F=G.parent().parent().parent().attr("id");var E=G.data("slide");var H=jQuery("#"+F+" .highlight_slides > div:visible").data("slide");if(H!==E&&!p){p=true;i(F,H,E)}});jQuery(document).on("click","#content_wrapper div .highlight_slides div img.highlight",function(){var E=jQuery(this).parent();var H=E.parent().parent().attr("id");var J=E.data("slide");var G=E.parent().children().length;if(G>1&&!p){p=true;var I=E.next("div");var F;if(I.length===0){I=E.prevAll("div").last();F=I.data("slide")}else{F=I.data("slide")}i(H,J,F)}});var g,f,A,j,e;g=window.categoryId;jQuery(window).scroll(function(){j=jQuery(document).height()-jQuery(window).height();e=jQuery(window).scrollTop()+200;if(e>=j&&!A&&!m){if(jQuery("#page_category_"+g).is(":visible")){t();f=jQuery("#page_category_"+g+" > article").length;jQuery.ajax({type:"POST",url:w,data:{action:"getAjaxData",category:g,offset:f,token:window.nonce},success:function(E){if(E===""){A=true}else{jQuery("#page_category_"+g+":last-child").append(E)}},error:function(E){if(E.status===403){q("page_error_403",false,E.responseText)}},complete:function(){l()}})}else{if(jQuery("#page_blog").is(":visible")){t();f=jQuery("#page_blog > article").length;jQuery.ajax({type:"POST",url:w,data:{action:"getAjaxData",category:"",offset:f,token:window.nonce},success:function(E){if(E===""){A=true}else{jQuery("#page_blog:last-child").append(E)}},error:function(E){if(E.status===403){q("page_error_403",false,E.responseText)}},complete:function(){l()}})}}}})});